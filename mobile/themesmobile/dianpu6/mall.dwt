<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Keywords" content="{$keywords}" />
<meta name="Description" content="{$description}" />
<meta name="viewport" content="width=device-width">
<!-- TemplateBeginEditable name="doctitle" -->
<title>{$page_title}</title>
<!-- TemplateEndEditable -->
<!-- TemplateBeginEditable name="head" -->
<!-- TemplateEndEditable -->
<link rel="shortcut icon" href="favicon.ico" />
<link rel="icon" href="animated_favicon.gif" type="image/gif" />
<link rel="alternate" type="application/rss+xml" title="RSS|{$page_title}" href="{$feed_url}" />
<link rel="stylesheet" type="text/css" href="store/css/cubebase-min.css">
<link rel="stylesheet" type="text/css" href="store/css/browser-min.css">
<script src="store/js/run_common-min.js" charset="utf-8" type="text/javascript" itemid="run_common.js"></script>
{* 包含脚本文件 *}
<script type="text/javascript">window.pageConfig = { compatible: true }; </script>
{insert_scripts files='common.js,index.js'}
<style>
/*全局背景*/

body {
	background: #f2f1f6;
	color: #333333;
}
/*模板基础样式*/
.base {
	margin-top: 0.625rem;
	margin-bottom: 0.625rem;
	background: #ffffff;
	border-top: 0.0625rem solid #c8c7cc;
	border-bottom: 0.0625rem solid #c8c7cc;
}
/*商品图片背景色*/
.p-img {
	background: #f1f1f1;
}
/*商品信息字体颜色*/
.p-info {
	color: #333333;
}
/*商品价格字体颜色*/
.price {
	color: #e43743;
}
/*搜索头部*/
.c-header-toolbar {
	position: relative;
	padding-left: 0.625rem;
	padding-right: 0.625rem;
	background: #e4393c;
	height: 2.5rem;
}
.c-header-toolbar .search {
	position: relative;
	margin: 0 auto;
	width: 80%;
	overflow: hidden;/*placeholder颜色*/
	margin-top: 5px;

}
.c-header-toolbar .search input[type="text"] {
	padding: 0.375rem 0 0.375rem 0.813rem;
	width: 100%;
	height: 1.875rem;
	line-height: 1.125rem;
	border: none;
	font-size: 0.875rem;
	color: #333333;
	background: #fff7f7;
	-moz-border-radius: 1rem;
	-webkit-border-radius: 1rem;
	border-radius: 1rem;
}
.c-header-toolbar .search ::-webkit-input-placeholder {
  /* WebKit browsers */

  color: #cbacac;
}
.c-header-toolbar .search :-moz-placeholder {
  /* Mozilla Firefox 4 to 18 */

  color: #cbacac;
}
.c-header-toolbar .search ::-moz-placeholder {
  /* Mozilla Firefox 19+ */

  color: #cbacac;
}
.c-header-toolbar .search :-ms-input-placeholder {
  /* Internet Explorer 10+ */

  color: #cbacac;
}
.c-header-toolbar .search .icon-search {
	position: absolute;
	top: 0.469rem;
	right: 1rem;
	display: block;
	width: 0.938rem;
	height: 0.938rem;
	background-image: url("../../mobile/store/img/icon2.png");
	background-repeat: no-repeat;
	background-size: 100%;
	border:none;
	background-color:#FFF7F7;
}
.c-header-toolbar .search s {
	position: absolute;
	top: 0.219rem;
	right: 2.75rem;
	width: 1px;
	height: 1.375rem;
	background: #cbacac;
}
.c-header-toolbar .icon-return {
	position: absolute;
	top: 0.688rem;
	left: 0.625rem;
	display: block;
	width: 0.625rem;
	height: 1.188rem;
	background-image: url("../../mobile/store/img/icon1.png");
	background-repeat: no-repeat;
	background-size: 100%;
}
.c-header-toolbar .icon-nav {
	position: absolute;
	top: 0.813rem;
	right: 0.625rem;
	display: block;
	width: 1.25rem;
	height: 1rem;
	background-image: url("../../mobile/store/img/icon3.png");
	background-repeat: no-repeat;
	background-size: 100%;
}
/*商品轮播*/
.c-rollimage-activity .rollimage {
	position: relative;
	overflow: hidden;
	width: 100%;
	/*height: 8.125rem;*/
	height:12.5rem;
}
.c-rollimage-activity .rollimage .rollimage-img li {
	height: 8.125rem;
}
.c-rollimage-activity .rollimage .rollimage-img a {
	display: block;
	width: 100%;
	height: 100%;
	text-align: center;
}
.c-rollimage-activity .rollimage .rollimage-position {
	position: absolute;
	left: 50%;
	bottom: 0.313rem;
}
.c-rollimage-activity .rollimage .rollimage-position li {
	width: 0.375rem;
	height: 0.375rem;
	margin-left: 0.438rem;
	background: rgba(0, 0, 0, 0.4);
	-moz-border-radius: 0.25rem;
	-webkit-border-radius: 0.25rem;
	border-radius: 0.25rem;
}
.c-rollimage-activity .rollimage .rollimage-position li:first-child {
	margin-left: 0;
}
.c-rollimage-activity .rollimage .rollimage-position li.active {
	background: #ffffff;
}
/*logo栏*/
.c-logo-opts {
	margin-bottom: 0.625rem;
	height: 3rem;
	background: #ffffff;
	border-bottom: 0.0625rem solid #c8c7cc;
}
.c-logo-opts .store-logo {
	position: relative;
	top: -0.75rem;
	padding-left: 0.625rem;
	padding-right: 2.188rem;
	text-align: center;
}
.c-logo-opts .store-logo a {
	margin: 0 auto;
	display: block;
	width: 5.625rem;
	height: 1.875rem;
	overflow: hidden;
	text-align: center;
}
.c-logo-opts .store-logo .name {
	width: 100%;
	color: #666666;
	padding-top: 0.313rem;
	font-size: 0.75rem;
	line-height: 0.813rem;
	text-overflow: ellipsis;
	overflow: hidden;
	white-space: nowrap;
}
.c-logo-opts .collapse {
	padding-top: 0.563rem;
	padding-bottom: 0.5rem;
}
.c-logo-opts .collapse .columns {
	border-right: 1px solid #c8c7cc;
}
.c-logo-opts .collapse .columns:first-child {
	border-right: none;
}
.c-logo-opts .collapse .columns a {
	position: relative;
	display: block;
	padding-top: 1.125rem;
	width: 100%;
	height: 100%;
	text-align: center;
	color: #999999;
	line-height: 0.813rem;
	font-size: 0.688rem;
}
.c-logo-opts .collapse .columns a.active .icon-follow {
	background-image: url("../../mobile/store/img/icon5.png");
}
.c-logo-opts .collapse .columns a.disable {
	color: #cccccc;
}
.c-logo-opts .collapse .columns a.disable .icon-connect {
	background-image: url("../../mobile/store/img/icon31.png");
}
.c-logo-opts .collapse .columns .icon-follow, .c-logo-opts .collapse .columns .icon-share, .c-logo-opts .collapse .columns .icon-connect {
	position: absolute;
	top: 0;
	left: 50%;
	margin-left: -0.531rem;
	display: block;
	width: 1.063rem;
	height: 0.938rem;
	background-image: url("../../mobile/store/img/icon7.png");
	background-repeat: no-repeat;
	background-size: 100%;
}
.c-logo-opts .collapse .columns .icon-share {
	margin-left: -0.438rem;
	width: 0.875rem;
	background-image: url("../../mobile/store/img/icon6.png");
}
.c-logo-opts .collapse .columns .icon-connect {
	margin-left: -0.5rem;
	width: 1rem;
	background-image: url("../../mobile/store/img/icon7.png");
}
/*超值单品*/
.c-product-value {
	padding-top: 1rem;
	padding-bottom: 0.5rem;
	padding-left: 0.625rem;
	padding-right: 0.625rem;
}
.c-product-value .header {
	margin-bottom: 0.688rem;
	height: 1.25rem;
	line-height: 1.25rem;
	overflow: hidden;
	font-size: 1rem;
	color: #4c4c4c;
}
.c-product-value [class*="block-grid-"] {
	margin: 0 -0.25rem;
}
.c-product-value [class*="block-grid-"] li {
	margin-bottom: 0.625rem;
	padding: 0 0.25rem;
}
.c-product-value [class*="block-grid-"] li > a {
	display: block;
	padding-bottom: 0.5rem;
	border: 0.0625rem solid #d9d9d9;
	color: #333333;
}
.c-product-value [class*="block-grid-"] .p-img {
	display: block;
	text-align: center;
}
.c-product-value [class*="block-grid-"] .p-info {
	display: block;
	margin-top: 0.1875rem;
	margin-bottom: 0.3125rem;
	margin-left: 0.625rem;
	margin-right: 0.625rem;
	height: 2.375rem;
	color: #333333;
	font-size: 0.813rem;
	line-height: 1.188rem;
	overflow: hidden;
	text-shadow: 0 1px 0 rgba(255, 255, 255, 0.85);
}
.c-product-value [class*="block-grid-"] .price {
	display: block;
	margin: 0 0.625rem;
	font-size: 0.938rem;
	line-height: 1.25rem;
	height: 1.25rem;
}
.c-product-value .more {
	position: relative;
	padding-right: 0.75rem;
	color: #999999;
	font-size: 0.938rem;
	line-height: 1.688rem;
	float: right;
}
.c-product-value .more .icon-more {
	position: absolute;
	top: 0.438rem;
	right: 0;
	display: block;
	width: 0.438rem;
	height: 0.75rem;
	background-image: url("../../mobile/store/img/icon8.png");
	background-repeat: no-repeat;
	background-size: 100%;
}
/*全局背景*/
body {
	background: #f2f1f6;
	color: #333333;
}
/*模板基础样式*/
.base {
	margin-top: 0.625rem;
	margin-bottom: 0.625rem;
	background: #ffffff;
	border-top: 0.0625rem solid #c8c7cc;
	border-bottom: 0.0625rem solid #c8c7cc;
}
/*商品图片背景色*/
.p-img {
	background: #f1f1f1;
}
/*商品信息字体颜色*/
.p-info {
	color: #333333;
}
/*商品价格字体颜色*/
.price {
	color: #e43743;
}
/*全部商品*/
.c-product-all {
	margin-top: 1.438rem;
	margin-bottom: 1.438rem;
	height: 2.5rem;
}
.c-product-all a {
	display: block;
	color: #4c4c4c;
	line-height: 2.5rem;
	font-size: 0.938rem;
	text-align: center;
}
.c-product-all a .icon-all {
	position: relative;
	top: 0.16rem;
	display: inline-block;
	width: 1.063rem;
	height: 1.063rem;
	background-image: url("../../mobile/store/img/icon9.png");
	background-repeat: no-repeat;
	background-size: 100%;
}
/*遮罩层*/
.c-mask .mask {
	position: fixed;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	z-index: 9;
	display: none;
	background: rgba(0, 0, 0, 0.4);
}
/*分类列表*/
.c-category-list {
	position: fixed;
	top: 0;
	right: -17.5rem;
	bottom: 0;
	z-index: 10;
	padding-top: 1.688rem;
	width: 0;
	overflow: hidden;
	background: #f6f6f6;
	box-shadow: -1px 0 5px rgba(0, 0, 0, 0.28);
	-moz-box-shadow: -1px 0 5px rgba(0, 0, 0, 0.28);
	-webkit-box-shadow: -1px 0 5px rgba(0, 0, 0, 0.28);
	-webkit-transition: width 0.3s ease-out;
	-moz-transition: width 0.3s ease-out;
	-o-transition: width 0.3s ease-out;
	transition: width 0.3s ease-out;
}
.c-category-list.category-show-1 {
	width: 17.5rem;
	right: 0;
}
.c-category-list .name {
	color: #424242;
	font-size: 1.25rem;
	line-height: 1.5;
	text-align: center;
}
.c-category-list .score {
	padding-top: 0.375rem;
	padding-bottom: 1.563rem;
	color: #8c8c8c;
	font-size: 0.75rem;
	line-height: 1.5;
	text-align: center;
}
.c-category-list .score .icon-empty, .c-category-list .score .icon-full {
	display: inline-block;
	width: 0.625rem;
	height: 0.5rem;
	background-image: url("../../mobile/store/img/icon10.png");
	background-repeat: no-repeat;
	background-size: 100%;
}
.c-category-list .score .icon-full {
	background-image: url("../../mobile/store/img/icon11.png");
}
.c-category-list .score span {
	margin-left: 0.2rem;
}
.c-category-list .score-list {
	position: relative;
	margin-left: 0.625rem;
	margin-right: 0.625rem;
	margin-bottom: 0.688rem;
	background: #ffffff;
}
.c-category-list .score-list .divider {
	position: absolute;
	top: 0.625rem;
	left: 33.33%;
	width: 1px;
	height: 2.25rem;
	background: #dadada;
}
.c-category-list .score-list .divider:last-child {
	left: 66.66%;
}
.c-category-list [class*="block-grid-"] {
	margin: 0;
	border: 1px solid #e1e1e1;
	-moz-border-radius: 0.25rem;
	-webkit-border-radius: 0.25rem;
	border-radius: 0.25rem;
}
.c-category-list [class*="block-grid-"] .key {
	padding-top: 0.563rem;
	text-align: center;
	color: #424242;
	font-size: 0.75rem;
	line-height: 1.25;
}
.c-category-list [class*="block-grid-"] .value {
	padding-bottom: 0.25rem;
	color: #979797;
	font-size: 0.813rem;
	line-height: 1.625rem;
	text-align: center;
}
.c-category-list [class*="block-grid-"] .value .icon-down, .c-category-list [class*="block-grid-"] .value .icon-up {
	position: relative;
	top: 0.281rem;
	display: inline-block;
	margin-right: 0.375rem;
	width: 1.063rem;
	height: 1.063rem;
	background-image: url("../../mobile/store/img/icon12.png");
	background-repeat: no-repeat;
	background-size: 100%;
}
.c-category-list [class*="block-grid-"] .value .icon-up {
	background-image: url("../../mobile/store/img/icon13.png");
}
.c-category-list .category-list.active .header .icon-open {
	background-image: url("../../mobile/store/img/icon29.png");
}
.c-category-list .category-list .header a {
	color: #4c4c4c;
}
.c-category-list .category-list.active .list {
	display: block;
}
.c-category-list .category-list .header {
	position: relative;
	height: 2.813rem;
	line-height: 2.813rem;
	border-top: 0.0625rem solid #c8c7cc;
	border-bottom: 0.0625rem solid #c8c7cc;
	color: #4c4c4c;
	font-size: 0.938rem;
	padding-left: 0.938rem;
}
.c-category-list .category-list .header .icon-open {
	position: absolute;
	top: 1.063rem;
	right: 0.625rem;
	display: block;
	width: 1rem;
	height: 0.625rem;
	background-image: url("../../mobile/store/img/icon14.png");
	background-repeat: no-repeat;
	background-size: 100%;
}
.c-category-list .category-list .list {
	display: none;
	background: #e6e6e6;
}
.c-category-list .category-list .list li {
	height: 2.5rem;
	overflow: hidden;
}
.c-category-list .category-list .list li.active a {
	background: #cccccc;
}
.c-category-list .category-list .list li a {
	display: block;
	width: 100%;
	padding-right: 12.062rem;
	height: 100%;
	color: #808080;
	line-height: 2.5rem;
	font-size: 0.938rem;
	text-align: center;
}
</style>
<script type="text/javascript">
            
panda(function (){
	var mask = panda(".mask")
	var category = panda(".c-category-list")
	
	var isTouchPad = (/hp-tablet/gi).test(navigator.appVersion);
    var hasTouch = 'ontouchstart' in window && !isTouchPad;
	
	if(hasTouch){
			panda(".icon-nav").bind("touchstart",function (){
			  mask.css("display","block");
			  category.toggleClass("category-show");
			})
			
			mask.bind("touchstart",function (){
				mask.css("display","none");
category.removeClass("category-show");
				return false;
			})
	}else{
		panda(".icon-nav").bind("click",function (){
          mask.css("display","block");
		  category.toggleClass("category-show");
		})
		
		mask.bind("click",function (){
			mask.css("display","none");
 category.removeClass("category-show");
			return false;
		})
	}
		
	panda('.mobile_shop_btn').on('click',function(){
    	var search = $('#mobile_shop_search');
		var url = search.attr("url"),
			keyword = encodeURIComponent(search.val());
		keyword = encodeURIComponent(keyword);
               if(url ){
                if(keyword ){
                     window.location.href = url + "?keyword="+keyword;
                }else{
                    window.location.href = url;
                }
}
		
	});
	
})
define("PSlide", [], function (require, exports, module) {
    var PSlide = function (a) {

        a = a || {};
        var opts = {
            slideCell: a.slideCell,
            titCell: a.titCell || ".hd li", // 导航对象，当自动分页设为true时为“导航对象包裹层”
            mainCell: a.mainCell || ".bd", // 切换对象包裹层
            effect: a.effect || "left", // 效果，支持 left、leftLoop
            autoPlay: a.autoPlay || false, // 自动播放
            delayTime: a.delayTime || 200, // 效果持续时间
            interTime: a.interTime || 2500, // 自动运行间隔
            defaultIndex: a.defaultIndex || 0, // 默认的当前位置索引。0是第一个； defaultIndex:1 时，相当于从第2个开始执行
            titOnClassName: a.titOnClassName || "active", // 当前导航对象添加的className
            autoPage: a.autoPage || false, // 自动分页，当为true时titCell为“导航对象包裹层”
            prevCell: a.prevCell || ".prev", // 前一页按钮
            nextCell: a.nextCell || ".next", // 后一页按钮
            pageStateCell: a.pageStateCell || ".pageState", // 分页状态对象，用于显示分页状态，例如：2/3
            pnLoop: a.pnLoop == 'undefined ' ? true : a.pnLoop, // 前后按钮点击是否继续执行效果，当为最前/后页是会自动添加“prevStop”/“nextStop”控制样色
            startFun: a.startFun || null, // 每次切换效果开始时执行函数，用于处理特殊情况或创建更多效果。用法 satrtFun:function(i,c){ }； 其中i为当前分页，c为总页数
            endFun: a.endFun || null, // 每次切换效果结束时执行函数，用于处理特殊情况或创建更多效果。用法 endFun:function(i,c){ }； 其中i为当前分页，c为总页数
            switchLoad: a.switchLoad || null, //每次切换效果结束时执行函数，用于处理特殊情况或创建更多效果。用法 endFun:function(i,c){ }； 其中i为当前分页，c为总页数

            rank: a.rank || 1,
            parent: a.parent || ""
        };

        var slideCell = opts.slideCell;//document.getElementById(opts.slideCell.replace("#", ""));
        var parent = document.getElementById(opts.parent.replace("#", ""));
        if (!slideCell) return false;

        //简单模拟jquery选择器
        var obj = function (str, parEle) {
            str = str.split(" ");
            var par = [];
            parEle = parEle || document;
            var retn = [ parEle ];
            for (var i in str) {
                if (str[i].length != 0) par.push(str[i])
            } //去掉重复空格
            for (var i in par) {
                if(par.hasOwnProperty(i)){
                    if (retn.length == 0) return false;
                    var _retn = [];
                    for (var r in retn) {
                        if(retn.hasOwnProperty(r)){
                            if (par[i][0] == "#") _retn.push(document.getElementById(par[i].replace("#", "")));
                            else if (par[i][0] == ".") {
                                var tag = retn[r].getElementsByTagName('*');
                                for (var j = 0; j < tag.length; j++) {
                                    var cln = tag[j].className;
                                    if (cln && cln.search(new RegExp("\\b" + par[i].replace(".", "") + "\\b")) != -1) {
                                        _retn.push(tag[j]);
                                    }
                                }
                            }
                            else {
                                var tag = retn[r].getElementsByTagName(par[i]);
                                for (var j = 0; j < tag.length; j++) {
                                    _retn.push(tag[j])
                                }
                            }
                        }
                    }
                    retn = _retn;
                }
            }

            return retn.length == 0 || retn[0] == parEle ? false : retn;
        }// obj E

        // 创建包裹层
        var wrap = function (el, v) {
            var tmp = document.createElement('div');
            tmp.innerHTML = v;
            tmp = tmp.children[0];
            var _el = el.cloneNode(true);
            tmp.appendChild(_el);
            el.parentNode.replaceChild(tmp, el);
            conBox = _el; // 重置conBox
        };

        // 获取样色数值
        var getStyleVal = function (el, attr) {
            var v = 0;
            if (el.currentStyle) {
                v = el.currentStyle[attr]
            } else {
                v = getComputedStyle(el, false)[attr];
            }
            return parseInt(v.replace("px", ""))
        }

        // class处理
        var addClass = function (ele, className) {
            if (!ele || !className || (ele.className && ele.className.search(new RegExp("\\b" + className + "\\b")) != -1)) return;
            ele.className += (ele.className ? " " : "") + className;
        }

        var removeClass = function (ele, className) {
            if (!ele || !className || (ele.className && ele.className.search(new RegExp("\\b" + className + "\\b")) == -1)) return;
            ele.className = ele.className.replace(new RegExp("\\s*\\b" + className + "\\b", "g"), "");
        }

        //全局对象
        var effect = opts.effect;
        var prevBtn = obj(opts.prevCell, slideCell)[0];
        var nextBtn = obj(opts.nextCell, slideCell)[0];
        var pageState = obj(opts.pageStateCell)[0];
        var conBox = obj(opts.mainCell, slideCell)[0];//内容元素父层对象
        if (!conBox) return false;
        var conBoxSize = conBox.children.length;
        var navObj = obj(opts.titCell, slideCell);//导航子元素结合
        var navObjSize = navObj ? navObj.length : conBoxSize;
        var sLoad = opts.switchLoad;

        /*字符串转换*/
        var index = parseInt(opts.defaultIndex);
        var delayTime = parseInt(opts.delayTime);
        var interTime = parseInt(opts.interTime);
        var autoPlay = (opts.autoPlay == "false" || opts.autoPlay == false) ? false : true;
        var autoPage = (opts.autoPage == "false" || opts.autoPage == false) ? false : true;
        var loop = (opts.pnLoop == "false" || opts.pnLoop == false) ? false : true;
        var oldIndex = index;
        var inter = null;// autoPlay的setInterval
        var timeout = null; // leftLoop的setTimeout
        var endTimeout = null;  //translate的setTimeout

        var startX = 0;
        var startY = 0;
        var distX = 0;
        var distY = 0;
        var dist = 0; //手指滑动距离
        var isTouchPad = (/hp-tablet/gi).test(navigator.appVersion);
        var hasTouch = 'ontouchstart' in window && !isTouchPad;
        var touchStart = hasTouch ? 'touchstart' : 'mousedown';
        var touchMove = hasTouch ? 'touchmove' : 'mousemove';
        var touchEnd = hasTouch ? 'touchend' : 'mouseup';
        var resizeStart=hasTouch?'orientationchange':'resize';
        var slideH = 0;
        var slideW = 320;// mainCell滑动距离，后面会覆盖
        var selfW = 0;
        var scrollY;

        //处理分页
        if (navObjSize == 0)navObjSize = conBoxSize / opts.rank;
        if (autoPage) {
            navObjSize = conBoxSize / opts.rank;
            navObj = navObj[0];
            navObj.innerHTML = "";
            var str = "";

            if (opts.autoPage == true || opts.autoPage == "true") {
                for (var i = 0; i < navObjSize; i++) {
                    str += "<li class='left'></li>"
                }
            } else {
                for (var i = 0; i < navObjSize; i++) {
                    str += opts.autoPage.replace("$", (i + 1))
                }
            }

            navObj.innerHTML = str;
            navObj = navObj.children;//重置navObj
        }

        //取最大值
        for (var i = 0; i < conBoxSize; i++) {
            var chi = conBox.children[i];
            var ma = getStyleVal(chi, "marginLeft") + getStyleVal(chi, "marginRight");
            var pa = getStyleVal(chi, "paddingLeft") + getStyleVal(chi, "paddingRight");
            var chiW = chi.clientWidth - pa;
            var chiSW = chi.offsetWidth + ma + pa;
            if (chiW > selfW) {
                if (opts.rank == 2) {
                    selfW = getStyleVal(parent, "width") - pa;
                    slideW = getStyleVal(parent, "width") - (opts.rank + 1) * getStyleVal(chi, "paddingLeft");
                } else {
                    selfW = chiW;
                    slideW = chiSW

                }
            }
        }


        switch (effect) {
            case "left":
                conBox.style.cssText = "width:" + conBoxSize * slideW + "px;" + "position:relative;overflow:hidden;padding:0;margin:0;";
                for (var i = 0; i < conBoxSize; i++) {
                    conBox.children[i].style.cssText = "float:left;width:" + Math.floor(selfW / opts.rank) + "px;"
                }
                wrap(conBox, '<div class="tempWrap" style="overflow:hidden; position:relative; width:' + slideW + 'px"></div>');
                break;
            case "leftLoop":
                conBox.appendChild(conBox.children[0].cloneNode(true));
                conBox.insertBefore(conBox.children[conBoxSize - 1].cloneNode(true), conBox.children[0]);
                conBox.style.cssText = "width:" + (conBoxSize + 2) * slideW + "px;" + "position:relative;overflow:hidden;padding:0;margin:0;";
                for (var i = 0; i < conBoxSize + 2; i++) {
                    conBox.children[i].style.cssText = "float:left;width:" + Math.floor(selfW / opts.rank) + "px;";
                }
                wrap(conBox, '<div class="tempWrap" style="position:relative; width:' + slideW + 'px"></div>');
                break;
        }

        var doStartFun = function () {
            if (typeof opts.startFun == 'function') {
                opts.startFun(index, navObjSize)
            }
        }
        var doEndFun = function () {
            if (typeof opts.endFun == 'function') {
                opts.endFun(index, navObjSize)
            }
        }
        var doSwitchLoad = function (moving) {
            var curIndex = ( effect == "leftLoop" ? index + 1 : index ) + moving;
            var changeImg = function (ind) {
                var img = conBox.children[ind].getElementsByTagName("img");
                for (var i = 0; i < img.length; i++) {
                    if (img[i].getAttribute(sLoad)) {
                        img[i].setAttribute("src", img[i].getAttribute(sLoad));
                        img[i].removeAttribute(sLoad);
                    }
                }
            }// changeImg E
            changeImg(curIndex);
            if (effect == "leftLoop") {
                switch (curIndex) {
                    case 0:
                        changeImg(conBoxSize);
                        break;
                    case 1:
                        changeImg(conBoxSize + 1);
                        break;
                    case conBoxSize:
                        changeImg(0);
                        break;
                    case conBoxSize + 1:
                        changeImg(1);
                        break;
                }
            }
        }// doSwitchLoad E

        var translate = function (dist, speed, ele) {
            if (!!ele) {
                ele = ele.style;
            } else {
                ele = conBox.style;
            }
            ele.webkitTransitionDuration = ele.MozTransitionDuration = ele.msTransitionDuration = ele.OTransitionDuration = ele.transitionDuration = speed + 'ms';
            ele.webkitTransform = 'translate(' + dist + 'px,0)' + 'translateZ(0)';
            ele.msTransform = ele.MozTransform = ele.OTransform = 'translateX(' + dist + 'px)';
        }

        //效果函数
        var doPlay = function (isTouch) {
            switch (effect) {
                case "left":
                    if (index >= navObjSize) {
                        index = isTouch ? index - 1 : 0;
                    } else if (index < 0) {
                        index = isTouch ? 0 : navObjSize - 1;
                    }
                    if (sLoad != null) {
                        doSwitchLoad(0)
                    }
                    translate((-index * slideW), delayTime);
                    oldIndex = index;
                    break;


                case "leftLoop":
                    if (sLoad != null) {
                        doSwitchLoad(0)
                    }
                    translate(-(index + 1) * slideW, delayTime);
                    if (index == -1) {
                        timeout = setTimeout(function () {
                            translate(-navObjSize * slideW, 0);
                        }, delayTime);
                        index = navObjSize - 1;
                    }
                    else if (index == navObjSize) {
                        timeout = setTimeout(function () {
                            translate(-slideW, 0);
                        }, delayTime);
                        index = 0;
                    }
                    oldIndex = index;
                    break;// leftLoop end

            }//switch end
            doStartFun();
            endTimeout = setTimeout(function () {
                doEndFun()
            }, delayTime);

            //设置className
            for (var i = 0; i < navObjSize; i++) {
                removeClass(navObj[i], opts.titOnClassName);
                if (i == index) {
                    addClass(navObj[i], opts.titOnClassName)
                }
            }

            if (loop == false) { //loop控制是否继续循环
                removeClass(nextBtn, "nextStop");
                removeClass(prevBtn, "prevStop");
                if (index == 0) {
                    addClass(prevBtn, "prevStop")
                }
                else if (index == navObjSize - 1) {
                    addClass(nextBtn, "nextStop")
                }
            }
            if (pageState) {
                pageState.innerHTML = "<span>" + (index + 1) + "</span>/" + navObjSize;
            }
        };// doPlay end

        //初始化执行
        doPlay();

        //自动播放
        if (autoPlay) {
            inter = setInterval(function () {
                index++;
                doPlay();
            }, interTime);
        }

        //点击事件
        if (navObj) {
            for (var i = 0; i < navObjSize; i++) {
                (function () {
                    var j = i;
                    navObj[j].addEventListener('click', function (e) {
                        clearTimeout(timeout);
                        clearTimeout(endTimeout);
                        index = j;
                        doPlay();
                    })
                })()

            }
        }
        if (nextBtn) {
            nextBtn.addEventListener('click', function (e) {
                if (loop == true || index != navObjSize - 1) {
                    clearTimeout(timeout);
                    clearTimeout(endTimeout);
                    index++;
                    doPlay();
                }
            })
        }
        if (prevBtn) {
            prevBtn.addEventListener('click', function (e) {
                if (loop == true || index != 0) {
                    clearTimeout(timeout);
                    clearTimeout(endTimeout);
                    index--;
                    doPlay();
                }
            })
        }


        //触摸开始函数
        var tStart = function (e) {
            clearTimeout(timeout);
            clearTimeout(endTimeout);
            scrollY = undefined;
            distX = 0;
            var point = hasTouch ? e.touches[0] : e;
            startX = point.pageX;
            startY = point.pageY;

            //添加“触摸移动”事件监听
            conBox.addEventListener(touchMove, tMove, false);
            //添加“触摸结束”事件监听
            conBox.addEventListener(touchEnd, tEnd, false);
        }

        //触摸移动函数
        var tMove = function (e) {
            if (hasTouch) {
                if (e.touches.length > 1 || e.scale && e.scale !== 1) return
            }
            ; //多点或缩放

            var point = hasTouch ? e.touches[0] : e;
            distX = point.pageX - startX;
            distY = point.pageY - startY;

            if (typeof scrollY == 'undefined') {
                scrollY = !!( scrollY || Math.abs(distX) < Math.abs(distY) );
            }
            if (!scrollY) {
                e.preventDefault();
                if (autoPlay) {
                    clearInterval(inter)
                }
                switch (effect) {
                    case "left":
                        if ((index == 0 && distX > 0) || (index >= navObjSize - 1 && distX < 0 )) {
                            distX = distX * 0.4
                        }
                        translate(-index * slideW + distX, 0);
                        break;
                    case "leftLoop":
                        translate(-(index + 1) * slideW + distX, 0);
                        break;
                }

                if (sLoad != null && Math.abs(distX) > slideW / 3) {
                    doSwitchLoad(distX > -0 ? -1 : 1)
                }
            }
        };

        //触摸结束函数
        var tEnd = function (e) {
			if(!hasTouch){
				conBox.removeEventListener(touchMove, tMove, false);
				conBox.removeEventListener(touchEnd, tEnd, false);
			}


            if (distX == 0) return;
            e.preventDefault();
            if (!scrollY) {
                if (Math.abs(distX) > slideW / 10) {
                    distX > 0 ? index-- : index++;
                }
                doPlay(true);
                if (autoPlay) {
                    inter = setInterval(function () {
                        index++;
                        doPlay()
                    }, interTime);
                }
            }

            conBox.removeEventListener(touchMove, tMove, false);
            conBox.removeEventListener(touchEnd, tEnd, false);
        };

        if(hasTouch){
            conBox.addEventListener(touchStart, tStart, false);
        }


        function resizeHandler(){
            var tw=panda(opts.slideCell).find(".tempWrap");
            tw.hide();

            setTimeout(function(){
                var wd=$(window).width();
                if(wd>1000)
                    wd=1000;

                tw.css("width",wd);

                var ultotal=0;
                tw.find("li").each(function(element){
                    panda(element).css("width",wd);
                    ultotal+=wd;
                });

                tw.find("ul").css("width",ultotal);

                //取最大值
                slideW=wd;
                doPlay();

                setTimeout(function(){
                    tw.show();

                },230);
            },300);
        }

      if(top && top.location.href){
            if(top.location.href.indexOf("preview.htm")!=-1||top.location.href.indexOf("packDown.htm")!=-1){
                setTimeout(function(){
                    resizeHandler();
                },1000);
            }else{
                    resizeHandler();
             }
        }

        window.addEventListener(resizeStart,function(){
            resizeHandler();
        });
    };
    return PSlide;
});

panda(function (require) { 

    var PSlide = require("PSlide");
    panda("div[id=jdSlider]").each(function(element){
        var pe=panda(element);
       if(!pe.attr("initslide")){
            PSlide({
                slideCell:element,
                titCell:".rollimage-position ul",
                mainCell:".rollimage-img ul",
                effect:"leftLoop",
                autoPage:true,
                autoPlay:true
            });

           pe.attr("initslide",true);
       }
    });
});
panda(function () {
    var LogoElem = panda(".store-logo");
    var logoWrap = panda(".c-logo-opts");
    var slideElements = panda("div[id=jdSlider]");
    var comparePosition = function (nodeA, nodeB) {
        var positionMessage = {
            0: "元素一致",
            1: "节点在不同的文档",
            2: "B 在 A 之前",
            4: "A 在 B 之前",
            8: "B 包含 A",
            16: "节点 A 包含节点 B",
            32: "浏览器的私有使用"
        };

        return nodeA.compareDocumentPosition ?
            nodeA.compareDocumentPosition(nodeB) :
            nodeA.contains ?
                ( nodeA != nodeB && nodeA.contains(nodeB) && 16 ) +
                ( nodeA != nodeB && nodeB.contains(nodeA) && 8 ) +
                ( nodeA.sourceIndex >= 0 && nodeB.sourceIndex >= 0 ?
                    (nodeA.sourceIndex < nodeB.sourceIndex && 4 ) +
                    (nodeA.sourceIndex > nodeB.sourceIndex && 2 ) :
                    1 ) :
                0;
    };


    var positionStatus = true;
    if (!slideElements.length)positionStatus = false;
    for (var i = 0, Ln = slideElements.length; i < Ln; i++) {
        if (comparePosition(LogoElem[0], slideElements[i]) == 2) {
            positionStatus = true;
            break;
        }
        if (comparePosition(LogoElem[0], slideElements[i]) !== 2) {
            positionStatus = false;
            break;
        }
    }

    if (!positionStatus) {
        logoWrap.css({
            height: "3.3rem"
        });
        LogoElem.css({
            top: "0.1rem"
        })
    } else {
        logoWrap.css({
            height: "3rem"
        });
        LogoElem.css({
            top: "-0.75rem"
        })
    }
});
panda(function () {

    var imgLazyLoad = function (arg) {
        var images = null,
            maxScroll = (document.documentElement.scrollTop || document.body.scrollTop) + document.documentElement.clientHeight,
            currentWidth = panda(window).width();

        function init() {
            if (!arg) return;
            images = panda(arg);
            if (!images.size()) return;

            domInit();
            eventInit();
            check(true);
        }

        function domInit() {
            images.each(function (item, index) {
//				if(typeof jQuery !== "undefined"){
//					var tempVal = item;
//					item = index;
//					index = tempVal;
//				}
                item = panda(item);
                item.data('lly_pos', item.position()).attr('loaded', 'no');
                var srcset = item.attr('srcset');
                srcset = srcset ? srcset.split(/\s*,\s*/) : '';
                item.data("lly_imgs", {});
                if (srcset.length) {
                    var imgs = {};
                    for (var i = 0, len = srcset.length; i < len; i++) {
                        var tem = [];
                        tem = srcset[i].split(/\s+/);
                        imgs[parseInt(tem[1], 10)] = tem[0];
                    }
                    item.data('lly_imgs', imgs);
                }
            });
        }

        function eventInit() {
            panda(window).on('scroll', srollHandle);
            panda(window).on('resize', resizeHandle);
        }

        function srollHandle() {
            var pandaWin = panda(window),
                scroll = (document.documentElement.scrollTop || document.body.scrollTop) + document.documentElement.clientHeight;
            if (scroll > maxScroll) {
                maxScroll = scroll;
                check(false);
            }

        }

        function resizeHandle() {
            var width = window.innerWidth;
            if (width != currentWidth) {
                currentWidth = width;
                check(true);
            }
            panda(window).trigger('scroll');

        }

        function check(isResize) {
            images.each(function (item, index) {
//				if(typeof jQuery !== "undefined"){
//					var tempVal = item;
//					item = index;
//					index = tempVal;
//				}
                item = panda(item);
                if (!!isResize) {
                    item.attr('loaded', 'no');
                    var imgs = item.data('lly_imgs'),
                        widths = [];
                    for (var key in imgs) {
                        widths.push(parseInt(key, 10));
                    }
                    widths.sort(function (a, b) {
                        return a - b;
                    });

                    var isHit = false;
                    for (var i = 0, len = widths.length; i < len; i++) {
                        if (currentWidth <= widths[i]) {
                            item.attr('srcd', imgs[widths[i]] + '');
                            isHit = true;
                            break;
                        }
                    }
                    if (isHit === false) {
                        item.attr('srcd', imgs[widths[widths.length - 1] + '']);
                    }
                }
                var top = item.data('lly_pos').top || item.data('lly_pos').y;
                if (item.attr('loaded') && top <= maxScroll + 160 && item.attr('src') !== item.attr('srcd')) {
                    if (item.attr('srcd')) {
                        item.attr('src', item.attr('srcd')).removeAttr('loaded');
                    } else {
                        item.removeAttr('loaded');
                    }
                }
            });
        }

        init();

    };

   imgLazyLoad('img[srcset]');
    
});
panda(function () {
    var mask = panda(".mask");
    var category = panda(".c-category-list");
    var isTouchPad = (/hp-tablet/gi).test(navigator.appVersion);
    var hasTouch = 'ontouchstart' in window && !isTouchPad;
    var eventType = hasTouch ? "touchstart" : "click";   
    panda(".icon-nav").unbind(eventType).bind(eventType, function () {
        mask.css("display", "block");
        category.addClass("category-show-1");
        return false;
    });
    mask.unbind(eventType).bind(eventType, function () {
        mask.css("display", "none");
        category.removeClass("category-show-1");
        return false;
    });
    /**
     * 商家评分控制
     */
    var score = panda(".score");
    var scoreValue = parseInt(score.find("span").html(), 10);
    var starElements = score.find("i");

    var Ln = Math.floor(scoreValue / 2);
    for (var i = starElements.size() - 1; i >= Ln; i--) {
        starElements.eq(i).addClass("icon-empty").removeClass("icon-full");
    }


    var header = panda(".category-list");
    var categoryList = panda(".c-category-list");

    header.find(".header").bind("click", function () {
        var target = panda(this);
        var list = target.next();
        if (list.find("li").size() <= 0)return;
        list.css({
            overflow: "hidden"
        });
        if (target.parent().hasClass("active")) {
            target.parent().removeClass("active");
            list.slideUp(function () {
                list.hide()
            });
        } else {
            target.parent().addClass("active");
            categoryList.css({
                height: panda(window).height(),
                overflow: "auto"
            });
            list.slideDown();
        }
        return false;
    });
});
        </script>
</head>
<body class="iframe-body websiteWrapper pageWrapper homePageWrapper portfolioTwoFilterablePageWrapper">
<div id="content_dom" class="pw-panel-container"> 
  
  <!--搜索头部-->
  <div class="row c-header-toolbar">
    <div class="small-12">
      <div class="search">
        <form id="searchForm" name="searchForm" method="get" action="/mobile/supplier.php">
          <input type='hidden' name='go' value='search'>
	 	  <input type='hidden' name='suppId' value='{$smarty.request.suppId}'>
          <input type="text" name="keywords" id="keyword" placeholder="搜索本店商品" url="/mobile/supplier.php">
          <input type="submit" class="icon-search" id="btsearch" value="" /> <s></s> 
        </form>
       </div>
      <a href="javascript:;" class="icon-return"></a> <a href="javascript:;" class="icon-nav"></a> </div>
  </div>
  <!--商品轮播-->

  <!--logo头部-->
  <!-- #BeginLibraryItem "/library/ghs_info.lbi" --><!-- #EndLibraryItem -->
  <!--超值精品-->
   <!-- #BeginLibraryItem "/library/recommend_best.lbi" --><!-- #EndLibraryItem -->   
  <!--超值热卖-->
    <!-- #BeginLibraryItem "/library/recommend_hot.lbi" --><!-- #EndLibraryItem --> 
  <!--超值新品-->
    <!-- #BeginLibraryItem "/library/recommend_new.lbi" --><!-- #EndLibraryItem --> 
  <!--全部商品-->
  <div class="row base c-product-all">
    <div class="small-12"> <a href="supplier.php?go=search&suppId={$suppid}&keywords="> <i class="icon-all"></i> <span>全部商品</span> </a> </div>
  </div>
  <!--遮罩层-->
  <div class="row c-mask">
    <div class="small-12">
      <div class="mask"></div>
    </div>
  </div>
  <div class="row c-category-list">
     <!-- #BeginLibraryItem "/library/ghs_category.lbi" --><!-- #EndLibraryItem --> 
  </div>
</div>
</body>
</html>
